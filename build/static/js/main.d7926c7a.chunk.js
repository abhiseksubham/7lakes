(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(20),c=a.n(l),s=(a(61),a(22)),o=a(23),u=a(27),i=a(24),m=a(28),p=a(25),b=a(7),d=a(21),E=function(e){var t=e.albums,a=e.onSelectAlbumClick;e.selectedAlbum;return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("div",{style:{margin:"auto 0",textAlign:"center",height:"40px",width:"40px",lineHeight:"40px",borderRadius:"50%",color:"white",fontWeight:"bold",background:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return"hsl(".concat(t%360,",60%,80%)")}(t.title)}},t&&t.title?t.title:""),n.a.createElement("div",{style:{margin:"auto 0",flexGrow:1,paddingLeft:"10px"}},t.id," ",t.title),n.a.createElement("div",{style:{margin:"auto 0"}},n.a.createElement(p.b,{to:"/AlbumDetails/".concat(t.id)},n.a.createElement(d.b,{size:"sm",color:"danger",outline:!0,onClick:function(){return a(t)}},"Open"))))},h=function(e){var t=e.albums,a=e.onSelectAlbumClick,r=e.selectedAlbum;return n.a.createElement(d.c,null,t.items.map(function(e){return n.a.createElement(d.d,{key:e.id},n.a.createElement(E,{onSelectAlbumClick:a,albums:e,selectedAlbum:r}))}))},O=a(26),v={GET_USERS_REQUEST:"users/get_users_request",GET_USERS_SUCCESS:"users/get_users_success",CREATE_USER_REQUEST:"users/create_user_request",PHOTOS_ERROR:"photos/photos_error",GET_ALBUM_PHOTOS:"photos/get_album_photos",GET_PHOTOS_SUCCESS:"photos/get_photo_success"},f=function(){return{type:v.GET_ALBUM_PHOTOS}},S=function(e){var t=e.items;return{type:v.GET_USERS_SUCCESS,payload:{items:t}}},g=function(e){var t=e.photos;return{type:v.GET_PHOTOS_SUCCESS,payload:{photos:t}}},_=function(e){var t=e.error;return{type:v.PHOTOS_ERROR,payload:{error:t}}},j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleCloseAlert=function(){a.props.photosError({error:""})},a.props.getPhotosRequest(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.albums;return n.a.createElement("div",{style:{margin:"0 auto",padding:"20px"}},n.a.createElement("h2",null,"Albums"),n.a.createElement(d.a,{color:"danger",isOpen:!!this.props.albums.error,toggle:this.handleCloseAlert},this.props.albums.error),!!e.items&&!!e.items.length&&n.a.createElement(h,{onSelectAlbumClick:this.props.handleSelectAlbumClick,albums:e}))}}]),t}(r.Component),A=Object(O.b)(function(e){return{albums:e.albums}},{getPhotosRequest:function(){return{type:v.GET_USERS_REQUEST}},photosError:_,getPhotosOfAlbumsRequest:f})(j),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).props.getPhotosOfAlbumsRequest(e.id),console.log(e),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.albums.photos;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,this.props.album&&n.a.createElement("div",{className:"container album"},n.a.createElement("div",null,"Selected Album"),n.a.createElement("div",null,"Album Id:",this.props.album.id),n.a.createElement("div",null,"Album Title:",this.props.album.title)),n.a.createElement("div",{className:"main"},!!e&&e.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"cards"},n.a.createElement("div",{className:"cardstart"},n.a.createElement("div",{className:"id"},n.a.createElement("b",null,"Id:",e.id)),n.a.createElement("div",{className:"text"},"Title:",e.title),n.a.createElement("div",null,n.a.createElement("img",{src:e.thumbnailUrl})))))}))))}}]),t}(r.Component),C=Object(O.b)(function(e){return{albums:e.albums}},{getPhotosOfAlbumsRequest:f})(x),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleCreateUserSubmit=function(e){var t=e.firstName,r=e.lastName;a.props.createUserRequest({firstName:t,lastName:r})},a.handleSelectAlbumClick=function(e){a.setState({album:e}),localStorage.setItem("id",e.id)},a.handleCloseAlert=function(){a.props.photosError({error:""})},a.state={albums:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;this.props.users;return n.a.createElement("div",{style:{margin:"0 auto",padding:"20px",maxWidth:"1000px"}},n.a.createElement("nav",{className:"navbar navbar-light"},n.a.createElement("ul",{className:"nav navbar-nav"},n.a.createElement("li",null,n.a.createElement(p.b,{to:"/"},"Albums")))),n.a.createElement(b.c,null,n.a.createElement(b.a,{exact:!0,path:"/"},n.a.createElement(A,{handleSelectAlbumClick:this.handleSelectAlbumClick})),n.a.createElement(b.a,{exact:!0,path:"/AlbumDetails/:id",render:function(t){var a=t.location.pathname.replace("/AlbumDetails/","");return n.a.createElement(C,{id:a,album:e.state.album})}})))}}]),t}(r.Component),T=a(19),y=a(34),U={items:[],photos:[]};var w=Object(T.c)({albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_USERS_SUCCESS:return Object(y.a)({},e,{items:t.payload.items});case v.GET_PHOTOS_SUCCESS:return Object(y.a)({},e,{photos:t.payload.photos});case v.USERS_ERROR:return Object(y.a)({},e,{error:t.payload.error});default:return e}}}),k=a(32),N=a.n(k),P=a(54),G=a(15),H=a.n(G),q=a(55),I=a(9),L=function(){return N.a.get("/albums",{})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e=localStorage.getItem("id"),N.a.get("/photos",{params:{albumId:e}})},B=H.a.mark(J),M=H.a.mark(W),Q=H.a.mark(X),F=H.a.mark(z);function J(){var e;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(L);case 3:return e=t.sent,t.next=6,Object(I.d)(S({items:e.data}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(I.d)(_({error:"An error occurred when trying to get the albums"}));case 12:case"end":return t.stop()}},B,null,[[0,8]])}function W(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(v.GET_USERS_REQUEST,J);case 2:case"end":return e.stop()}},M)}function X(){var e;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(D);case 3:return e=t.sent,console.log(e),t.next=7,Object(I.d)(g({photos:e.data}));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(I.d)(_({error:"An error occurred when trying to get the users"}));case 13:case"end":return t.stop()}},Q,null,[[0,9]])}function z(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.f)(v.GET_ALBUM_PHOTOS,X);case 2:case"end":return e.stop()}},F)}var V=[Object(I.c)(W),Object(I.c)(z)],K=H.a.mark(Y);function Y(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(Object(q.a)(V));case 2:case"end":return e.stop()}},K)}a(102);var Z=Object(P.a)();N.a.defaults.baseURL="https://jsonplaceholder.typicode.com";var $=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,ee=Object(T.e)(w,$(Object(T.a)(Z)));Z.run(Y),c.a.render(n.a.createElement(O.a,{store:ee},n.a.createElement(p.a,null,n.a.createElement(R,null))),document.getElementById("root"))},56:function(e,t,a){e.exports=a(103)},61:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.d7926c7a.chunk.js.map